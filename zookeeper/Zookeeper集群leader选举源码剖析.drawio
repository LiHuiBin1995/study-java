<mxfile host="app.diagrams.net" modified="2021-10-08T09:27:55.351Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Safari/537.36" etag="51-zt3YasbDK-DtQJX24" version="15.4.3" type="github">
  <diagram id="SoEcYwhc6m7pzwqqew_2" name="第 1 页">
    <mxGraphModel dx="2075" dy="686" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="losnIFv3CeqP07pF8Fcl-114" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;fontColor=#FF0000;strokeWidth=2;curved=1;dashed=1;dashPattern=1 2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-35" target="losnIFv3CeqP07pF8Fcl-108">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2843" y="1080" />
              <mxPoint x="2680" y="1080" />
              <mxPoint x="2680" y="1355" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-1" target="ZCuFaapzUTEh5m-6mNR0-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-1" value="QuorumPeerMain.main服务端启动主类" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#B9E0A5;" parent="1" vertex="1">
          <mxGeometry x="50" y="90" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-2" target="ZCuFaapzUTEh5m-6mNR0-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-6" value="解析配置文件，&lt;br&gt;并将配置信息加载到内存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ZCuFaapzUTEh5m-6mNR0-5" vertex="1" connectable="0">
          <mxGeometry x="-0.2467" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-2" value="main.initializeAndRun" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="50" y="190" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-4" target="ZCuFaapzUTEh5m-6mNR0-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-9" value="开始并清理快照文件任务" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="ZCuFaapzUTEh5m-6mNR0-8" vertex="1" connectable="0">
          <mxGeometry x="-0.1563" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-4" value="config.parse(args[0]);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;html=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="300" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-7" target="ZCuFaapzUTEh5m-6mNR0-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-14" value="集群启动核心流程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#FF0000;fontStyle=1" parent="ZCuFaapzUTEh5m-6mNR0-11" vertex="1" connectable="0">
          <mxGeometry x="-0.2615" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-7" target="ZCuFaapzUTEh5m-6mNR0-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-15" value="单机启动&lt;br&gt;核心流程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#FF0000;fontStyle=1" parent="ZCuFaapzUTEh5m-6mNR0-13" vertex="1" connectable="0">
          <mxGeometry x="0.1463" y="-1" relative="1" as="geometry">
            <mxPoint x="7" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-7" value="purgeMgr.start();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;html=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="410" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-17" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;strokeWidth=2;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-10" target="ZCuFaapzUTEh5m-6mNR0-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="230" y="550" />
              <mxPoint x="230" y="120" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-19" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-10" target="ZCuFaapzUTEh5m-6mNR0-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-20" value="初始化服务端连接对象&lt;br&gt;ZK默认使用NIO&lt;br&gt;官方推荐使用Netty" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="ZCuFaapzUTEh5m-6mNR0-19" vertex="1" connectable="0">
          <mxGeometry x="0.3101" y="-7" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-30" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-10" target="ZCuFaapzUTEh5m-6mNR0-29" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="320" y="550" />
              <mxPoint x="320" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-31" value="获取本服务节点对象" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="ZCuFaapzUTEh5m-6mNR0-30" vertex="1" connectable="0">
          <mxGeometry x="0.1461" y="-5" relative="1" as="geometry">
            <mxPoint x="35" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-33" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-10" target="ZCuFaapzUTEh5m-6mNR0-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-34" value="设置选举类型&lt;br&gt;默认为3" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="ZCuFaapzUTEh5m-6mNR0-33" vertex="1" connectable="0">
          <mxGeometry x="0.1197" y="-6" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-36" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-10" target="ZCuFaapzUTEh5m-6mNR0-35" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="380" y="550" />
              <mxPoint x="380" y="450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-37" value="初始化内存&lt;br&gt;数据库对象" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="ZCuFaapzUTEh5m-6mNR0-36" vertex="1" connectable="0">
          <mxGeometry x="0.1899" y="-5" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-39" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-10" target="ZCuFaapzUTEh5m-6mNR0-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-40" value="将上面创建的初始服务&lt;br&gt;连接对象放入到本服务节点对象中" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="ZCuFaapzUTEh5m-6mNR0-39" vertex="1" connectable="0">
          <mxGeometry x="0.1642" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-42" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-10" target="ZCuFaapzUTEh5m-6mNR0-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-43" value="启动服务节点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="ZCuFaapzUTEh5m-6mNR0-42" vertex="1" connectable="0">
          <mxGeometry x="0.0371" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-10" value="runFromConfig(config);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#99FF99;html=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="530" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-12" value="ZooKeeperServerMain.main(args);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#99FF99;html=1;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-240" y="410" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-16" value="ManagedUtil.registerLog4jMBeans();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;html=1;" parent="1" vertex="1">
          <mxGeometry x="330" y="100" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-23" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#000000;strokeWidth=2;dashed=1;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-18" target="ZCuFaapzUTEh5m-6mNR0-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-25" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-18" target="ZCuFaapzUTEh5m-6mNR0-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-28" value="初始化Netty线程组&lt;br&gt;bossGroup和WorkerGroup" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="ZCuFaapzUTEh5m-6mNR0-25" vertex="1" connectable="0">
          <mxGeometry x="0.1819" y="1" relative="1" as="geometry">
            <mxPoint x="-22" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-18" value="cnxnFactory = ServerCnxnFactory.createFactory();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;html=1;" parent="1" vertex="1">
          <mxGeometry x="400" y="200" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-21" value="如果要使用Netty通信框架需要加入启动参数&lt;br&gt;-Dzookeeper.server.CnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory" style="shape=note;strokeWidth=2;fontSize=14;size=20;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontColor=#666600;rounded=0;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="600" y="140" width="569" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-24" value="NettyServerCnxnFactory()" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;html=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="200" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-29" value="quorumPeer =QuorumPeerMain.getQuorumPeer();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;html=1;" parent="1" vertex="1">
          <mxGeometry x="530" y="290" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-32" value="quorumPeer.setElectionType(config.getElectionAlg());" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;html=1;" parent="1" vertex="1">
          <mxGeometry x="530" y="350" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-35" value="quorumPeer.setZKDatabase(new ZKDatabase(quorumPeer.getTxnFactory()));" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="530" y="430" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-38" value="quorumPeer.setCnxnFactory(cnxnFactory);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;html=1;" parent="1" vertex="1">
          <mxGeometry x="530" y="530" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-45" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-41" target="ZCuFaapzUTEh5m-6mNR0-44" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="840" y="680" />
              <mxPoint x="840" y="475" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-46" value="加载文件数据到内存" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="ZCuFaapzUTEh5m-6mNR0-45" vertex="1" connectable="0">
          <mxGeometry x="-0.1107" y="-2" relative="1" as="geometry">
            <mxPoint x="8" y="23" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-48" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" parent="1" source="ZCuFaapzUTEh5m-6mNR0-41" target="ZCuFaapzUTEh5m-6mNR0-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="930" y="680" />
              <mxPoint x="930" y="565" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-49" value="启动Netty服务" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" parent="ZCuFaapzUTEh5m-6mNR0-48" vertex="1" connectable="0">
          <mxGeometry x="0.1286" y="7" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;curved=1;" edge="1" parent="1" source="ZCuFaapzUTEh5m-6mNR0-41" target="losnIFv3CeqP07pF8Fcl-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-8" value="启动内嵌Jetty服务，默认8080端口&lt;br&gt;用来查看服务端状态信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-7">
          <mxGeometry x="0.3201" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-10" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="ZCuFaapzUTEh5m-6mNR0-41" target="losnIFv3CeqP07pF8Fcl-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-11" value="初始化集群选举leader&lt;br&gt;相关对象数据" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-10">
          <mxGeometry x="0.0467" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-88" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF3333;strokeWidth=2;" edge="1" parent="1" source="ZCuFaapzUTEh5m-6mNR0-41" target="losnIFv3CeqP07pF8Fcl-87">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-89" value="启动集群选举leader线程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-88">
          <mxGeometry x="0.0479" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-41" value="quorumPeer.start();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FF6666;" parent="1" vertex="1">
          <mxGeometry x="530" y="660" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-44" value="loadDataBase();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1100" y="460" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="1" source="ZCuFaapzUTEh5m-6mNR0-47" target="losnIFv3CeqP07pF8Fcl-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ZCuFaapzUTEh5m-6mNR0-47" value="startServerCnxnFactory();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="1091" y="550" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-1" target="losnIFv3CeqP07pF8Fcl-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-5" value="绑定端口启动" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-4">
          <mxGeometry x="-0.1751" relative="1" as="geometry">
            <mxPoint x="5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-1" value="NettyServerCnxnFactory.start()" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1321" y="550" width="179" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-3" value="bootstrap.bind(localAddress)" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1610" y="550" width="179" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-6" value="adminServer.start();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1091" y="665" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-13" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-9" target="losnIFv3CeqP07pF8Fcl-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-9" value="startLeaderElection();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="1091" y="770" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-15" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-12" target="losnIFv3CeqP07pF8Fcl-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-16" value="初始化选举数据管理器" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-15">
          <mxGeometry x="0.1341" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-18" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-12" target="losnIFv3CeqP07pF8Fcl-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-19" value="启动选举监听" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-18">
          <mxGeometry x="0.1241" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-21" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-12" target="losnIFv3CeqP07pF8Fcl-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-22" value="启动快速选举算法相关线程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-21">
          <mxGeometry x="0.0867" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-12" value="createElectionAlgorithm(electionType);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1360" y="770" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-14" value="createCnxnManager();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1710" y="660" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-17" value="listener.start();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1739.5" y="770" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-24" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-20" target="losnIFv3CeqP07pF8Fcl-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-20" value="FastLeaderElection fle = new FastLeaderElection(this, qcm);&#xa;fle.start();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="1730" y="860" width="200.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-26" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-23" target="losnIFv3CeqP07pF8Fcl-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-27" value="运行发送选票线程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-26">
          <mxGeometry x="0.1281" y="-2" relative="1" as="geometry">
            <mxPoint y="16" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-29" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-23" target="losnIFv3CeqP07pF8Fcl-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-30" value="运行接收选票线程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-29">
          <mxGeometry x="0.1087" y="4" relative="1" as="geometry">
            <mxPoint y="-13" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-23" value="messenger.start();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2020" y="875" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-32" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-25" target="losnIFv3CeqP07pF8Fcl-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-25" value="this.wsThread.start();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2370" y="820" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-34" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-28" target="losnIFv3CeqP07pF8Fcl-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-28" value="this.wsThread.start();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2370" y="930" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-36" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-31" target="losnIFv3CeqP07pF8Fcl-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-37" value="从应用层发送队列&lt;br&gt;(LinkedBlockingQueue)里&lt;br&gt;取选票" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-36">
          <mxGeometry x="0.0909" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-31" value="WorkerSender.run()" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2530" y="820" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-39" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-33" target="losnIFv3CeqP07pF8Fcl-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-42" value="从接收层接收队列&lt;br&gt;(LinkedBlockingQueue)里&lt;br&gt;取出选票" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-39">
          <mxGeometry x="-0.1601" y="-3" relative="1" as="geometry">
            <mxPoint x="-7" y="12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-33" value="WorkerReceiver.run()" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2530" y="930" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-44" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-35" target="losnIFv3CeqP07pF8Fcl-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-45" value="处理取出的选票" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-44">
          <mxGeometry x="0.2722" y="1" relative="1" as="geometry">
            <mxPoint x="-1" y="-11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-35" value="sendqueue.poll(3000, TimeUnit.MILLISECONDS);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="2770" y="710" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-41" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-38" target="losnIFv3CeqP07pF8Fcl-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-38" value="manager.pollRecvQueue(3000, TimeUnit.MILLISECONDS);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="2830" y="1020" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-73" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-40" target="losnIFv3CeqP07pF8Fcl-72">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-86" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FF3333;strokeWidth=2;entryX=0;entryY=0.75;entryDx=0;entryDy=0;dashed=1;dashPattern=1 2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-40" target="losnIFv3CeqP07pF8Fcl-51">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3560" y="1035" />
              <mxPoint x="3560" y="694" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-40" value="recvQueue.poll(timeout, unit);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="3070" y="1020" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-47" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-43" target="losnIFv3CeqP07pF8Fcl-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-48" value="发送选票" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-47">
          <mxGeometry x="-0.1643" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-43" value="process(m);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2875" y="800" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-50" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-46" target="losnIFv3CeqP07pF8Fcl-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-46" value="manager.toSend(m.sid, requestBuffer);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="3088" y="800" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-52" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-49" target="losnIFv3CeqP07pF8Fcl-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-53" value="是" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-52">
          <mxGeometry x="-0.1723" y="1" relative="1" as="geometry">
            <mxPoint x="24" y="19" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-56" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF6666;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-49" target="losnIFv3CeqP07pF8Fcl-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-57" value="否" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-56">
          <mxGeometry x="-0.1111" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-49" value="this.mySid == sid ？" style="rhombus;whiteSpace=wrap;rounded=0;strokeWidth=2;fillColor=#FFFFFF;html=1;" vertex="1" parent="1">
          <mxGeometry x="3400" y="782.5" width="160" height="65" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-59" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-55" target="losnIFv3CeqP07pF8Fcl-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-55" value="ArrayBlockingQueue&lt;ByteBuffer&gt; bq = new ArrayBlockingQueue&lt;ByteBuffer&gt;(&#xa;   SEND_CAPACITY);&#xa;ArrayBlockingQueue&lt;ByteBuffer&gt; oldq = queueSendMap.putIfAbsent(sid, bq);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="3670" y="800" width="440" height="70" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-67" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-58" target="losnIFv3CeqP07pF8Fcl-66">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-70" value="与对方sid机器建立连接" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-67">
          <mxGeometry x="-0.1342" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-66" value="connectOne(sid);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="3835" y="1130" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-68" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="3790" y="920" width="200" height="140" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-58" value="放入传输层待发送队列中" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FF3333;verticalAlign=top;" vertex="1" parent="losnIFv3CeqP07pF8Fcl-68">
          <mxGeometry width="200" height="140" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-60" value="addToSendQueue(bq, b);" style="rounded=0;whiteSpace=wrap;fontColor=#000000;fillColor=#B3FF66;verticalAlign=middle;html=1;" vertex="1" parent="losnIFv3CeqP07pF8Fcl-68">
          <mxGeometry x="25" y="30" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-61" value="queue.add(buffer);" style="rounded=0;whiteSpace=wrap;fontColor=#000000;fillColor=#B3FF66;verticalAlign=middle;" vertex="1" parent="losnIFv3CeqP07pF8Fcl-68">
          <mxGeometry x="25" y="90" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-62" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;strokeWidth=2;" edge="1" parent="losnIFv3CeqP07pF8Fcl-68" source="losnIFv3CeqP07pF8Fcl-60" target="losnIFv3CeqP07pF8Fcl-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-69" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="3700" y="585" width="340" height="145" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-51" value="如果选票接收机器是自己，就将选票放入到自己的接收队列中&lt;br&gt;&lt;br&gt;" style="whiteSpace=wrap;rounded=0;strokeWidth=2;fillColor=#FF6666;verticalAlign=top;html=1;" vertex="1" parent="losnIFv3CeqP07pF8Fcl-69">
          <mxGeometry width="340" height="145" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-63" value="addToRecvQueue(new Message(b.duplicate(), sid));" style="rounded=0;whiteSpace=wrap;fontColor=#000000;fillColor=#B3FF66;verticalAlign=middle;" vertex="1" parent="losnIFv3CeqP07pF8Fcl-69">
          <mxGeometry x="20" y="35" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-64" value="recvQueue.add(msg);" style="rounded=0;whiteSpace=wrap;fontColor=#000000;fillColor=#B3FF66;verticalAlign=middle;" vertex="1" parent="losnIFv3CeqP07pF8Fcl-69">
          <mxGeometry x="95" y="95" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-65" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;strokeWidth=2;" edge="1" parent="losnIFv3CeqP07pF8Fcl-69" source="losnIFv3CeqP07pF8Fcl-63" target="losnIFv3CeqP07pF8Fcl-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-75" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-72" target="losnIFv3CeqP07pF8Fcl-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-76" value="是&lt;br&gt;本机还处于选举状态" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-75">
          <mxGeometry x="0.1" y="11" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-81" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-72" target="losnIFv3CeqP07pF8Fcl-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-82" value="否&lt;br&gt;本机不是选举状态&lt;br&gt;已经选出了leader" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-81">
          <mxGeometry x="0.1288" y="-7" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-72" value="if(self.getPeerState() == &#xa;QuorumPeer.ServerState.LOOKING) ？" style="rhombus;whiteSpace=wrap;rounded=0;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2972.5" y="1089" width="385" height="80" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-78" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-74" target="losnIFv3CeqP07pF8Fcl-77">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-79" value="if((ackstate == QuorumPeer.ServerState.LOOKING)&lt;br&gt;        &amp;amp;&amp;amp; (n.electionEpoch &amp;lt; logicalclock.get()))&lt;br&gt;如果发送选票方处于选举状态并且发起选举周期小于自己，&lt;br&gt;则把自己PK出来的选票回发给发送选票方" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;html=1;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-78">
          <mxGeometry x="-0.1892" y="7" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-74" value="放入应用层接收队列&#xa;recvqueue.offer(n);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FF6666;" vertex="1" parent="1">
          <mxGeometry x="2852.5" y="1230" width="117.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-77" value="sendqueue.offer(notmsg);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2922.5" y="1400" width="147.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-84" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-80" target="losnIFv3CeqP07pF8Fcl-83">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-85" value="if(ackstate == QuorumPeer.ServerState.LOOKING)&lt;br&gt;如果发送选票方式选举状态，则把本机认为的leader选票&lt;br&gt;回发给发送选票方" style="edgeLabel;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#FF3333;html=1;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-84">
          <mxGeometry x="-0.175" y="7" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-80" value="Vote current = self.getCurrentVote();&#xa;本机当前选票，这个选票一般是leader" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="3320" y="1225" width="147.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-83" value="sendqueue.offer(notmsg);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="3390" y="1400" width="147.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-91" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-87" target="losnIFv3CeqP07pF8Fcl-90">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-87" value="super.start();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="940" y="1339.5" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-93" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-90" target="losnIFv3CeqP07pF8Fcl-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-94" value="while死循环，&lt;br&gt;根据当前节点状态&lt;br&gt;做出对应业务处理" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-93">
          <mxGeometry x="-0.1715" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-90" value="QuorumPeer.run()" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#33FF33;" vertex="1" parent="1">
          <mxGeometry x="1139" y="1339.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-96" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-92" target="losnIFv3CeqP07pF8Fcl-95">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-97" value="LOOKING&lt;br&gt;选举状态" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#FF0000;fontStyle=1" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-96">
          <mxGeometry x="-0.3071" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-92" value="switch(getPeerState())&#xa;节点自己的状态" style="rhombus;whiteSpace=wrap;fontColor=#000000;fillColor=#FFFFFF;verticalAlign=middle;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1410" y="1310" width="190" height="89" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-99" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-95" target="losnIFv3CeqP07pF8Fcl-98">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-100" value="选举周期加1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-99">
          <mxGeometry x="0.0819" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-102" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-95" target="losnIFv3CeqP07pF8Fcl-101">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-103" value="初始化选票（自己）" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#FF6666;fontStyle=1;fontSize=12;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-102">
          <mxGeometry x="0.1258" relative="1" as="geometry">
            <mxPoint x="25" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-106" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=12;fontColor=#FF6666;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-95" target="losnIFv3CeqP07pF8Fcl-104">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-107" value="发送选票选自己" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontColor=#FF6666;fontStyle=1" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-106">
          <mxGeometry x="0.0773" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-95" value="makeLEStrategy().lookForLeader()" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="1700" y="1339.5" width="200.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-98" value="logicalclock.incrementAndGet();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2060" y="1059" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-101" value="updateProposal(getInitId(), getInitLastLoggedZxid(), getPeerEpoch());" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2150" y="1140" width="390" height="40" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-109" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;fontColor=#FF6666;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-104" target="losnIFv3CeqP07pF8Fcl-108">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-110" value="给其他所有参与投票的节点&lt;br&gt;发送选票到应用层发送队列" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontColor=#000000;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-109">
          <mxGeometry x="-0.1429" y="1" relative="1" as="geometry">
            <mxPoint x="7" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-112" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;fontColor=#000000;strokeWidth=2;" edge="1" parent="1" source="losnIFv3CeqP07pF8Fcl-104" target="losnIFv3CeqP07pF8Fcl-111">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-113" value="选票里的最大zxid是从内存树中取的&lt;br&gt;也就是说只有被commit到内存中的数&lt;br&gt;据才会真正有效" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontColor=#FF0000;" vertex="1" connectable="0" parent="losnIFv3CeqP07pF8Fcl-112">
          <mxGeometry x="0.0609" y="1" relative="1" as="geometry">
            <mxPoint x="15" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-104" value="sendNotifications();" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2110" y="1334.5" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-108" value="sendqueue.offer(notmsg);" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FF6666;" vertex="1" parent="1">
          <mxGeometry x="2410" y="1334.5" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="losnIFv3CeqP07pF8Fcl-111" value="getInitLastLoggedZxid()" style="rounded=0;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1" parent="1">
          <mxGeometry x="2420" y="1235" width="140" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
